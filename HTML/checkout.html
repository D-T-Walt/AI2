<!--Javone - Anthony Gordon – 2206126
Kemone Laws – 2109446
Olivia McFarlane – 2301555
Diwani Walters – 2303848-->
<!DOCTYPE html>
<html>
<head>
    <title>Performance Gear: Checkout</title>
        <link rel="stylesheet" href="../CSS/style.css">

        <!--Ensures the media query works properly-->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            .description{text-align: left;}
            span{font-weight: bolder; color: #32CD32;}
            p{color: whitesmoke;}
            
            /*Different format for smaller screens (Best on iPhone 12 )*/
            @media (max-width: 600px){
                body{background-color: #ffffff; font-size: 14px; padding: 10px;}
                .header img {width: 100%;height: auto;margin: 10px 0;}
                table.heading{padding: 10px; width: 100%; font-size: 12px; margin-bottom: 20px;}
                td{border: 2px solid #32CD32; border-radius: 5px; padding: 10px;}
                .sidebar{top: 0; height: auto; margin-right: 0; right: 0; margin-left: auto;}
                .openbtn{top: 0px; right: 0px; font-size: 16px;}
                .closebtn{font-size: 18px;}
                .main-content{margin-right: 0; right: 0; margin-left: auto; padding: 10px;}
                .checkout-container {margin: 0 auto; padding: 10px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); background-color: #333;} 
                .checkout-container h1 {font-size: 20px; text-align: center;} 
                .cart-summary, .shipping-details {width: 100%; margin-bottom: 20px; text-align: left; font-size: 14px;} 
                .cart-summary h2, .shipping-details h2 {font-size: 18px; color: #FF4500; margin-bottom: 10px; text-align: center;} 
                .cart-summary span, .shipping-details label {display: block; margin-bottom: 5px;} 
                .cart-summary span {font-size: 14px;} 
                .shipping-details input, .shipping-details textarea {width: 100%; padding: 10px; margin-bottom: 10px; font-size: 14px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;}
                .cartButton {width: 100%; padding: 10px; margin: 5px 0;font-size: 14px;}
                .top{width: 62%; padding: 10px; font-size: 16px;}
                footer {font-size: 12px;padding: 10px; text-align: center;}
                footer a {display: block;font-size: 12px; color: #FF4500;}
                footer button img {width: 20px; height: auto;}
                footer p {font-size: 12px; margin: 5px 0;}
            }
        </style>
</head>
<body>
    <div class="header">
        <a href="../HTML/index.html"><img src="../Assets/Gym Store Logo .png" alt="Image Not Found" height="145px"></a>
        <table class="heading">
            <tr>
                <td><a href="../HTML/index.html">HOME</a></td>
                <td><a href="../HTML/products.html">ALL PRODUCTS</a></td>
                <td><a href="../HTML/dashboard.html">DASHBOARD</a></td>
                <td><a href="../HTML/about.html">ABOUT US</a></td>
            </tr>
        </table>
    </div>
    <br><br>

    <div id="mySidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="../HTML/index.html">Home</a>
        <a href="../HTML/index.html#log" style="font-size: large;">&emsp;&emsp;- Log In</a>
        <a href="../HTML/index.html#miss" style="font-size: large;">&emsp;&emsp;- Mission Statement</a>
        <a href="../HTML/index.html#vis" style="font-size: large;">&emsp;&emsp;- Vision Statement</a>
        <a href="../HTML/products.html">Products</a>
        <a href="../HTML/dashboard.html">Dashboard</a>
        <a href="../HTML/dashboard.html#gender" style="font-size: large;">&emsp;&emsp;- Frequency Groupings</a>
        <a href="../HTML/dashboard.html#trnSearch" style="font-size: large;">&emsp;&emsp;- Search by TRN</a>
        <a href="../HTML/dashboard.html#userCur" style="font-size: large;">&emsp;&emsp;- Current User's Invoices</a>
    </div>
    
    <div class="main-content">
        <button class="openbtn" onclick="openNav()">&#9776; Navigation</button>
    </div>
    <br><br>

    <div class="checkout-container">
        <h1 class="heading">CHECKOUT</h1>
        <div class="checkout-content">
            
            <!--Cart Summary-->
            <div class="cart-summary" >
                <h2 style="color: #FF4500;">Cart Summary</h2>
                Subtotal: $<span id="subtotal"></span><br></br>
                Tax (16%): $<span id="tax"></span><br></br>
                Discount (10%): $<span id="discount"></span><br></br>
                Total: $<span id="total"></span>
            </div><br>

            <!--Shipping Details-->
            <div class="shipping-details">
                <h2 style="color: #FF4500;">Shipping Details</h2>
                <label for="name">Name: </label>
                <input type="text" id="name" placeholder="Enter your full name" required></br></br>
                <label for="address">Address:</label>
                <textarea id="address" placeholder="Enter your shipping address" required></textarea></br></br>
                <label for="amount-paid">Amount Paid:</label>
                <input type="number" id="amount-paid" placeholder="Enter the amount paid" required></br></br>
            </div>
        </div>
        </br>
        <div>
            <button class="cartButton" onclick="confirmCheckout()">Confirm</button>
            <button class="cartButton" onclick="backToCart()">Cancel</button>
        </div>
    </div>

    <div style="clear: both; text-align: center; margin-top: 20px;">
        <a href="#top"><button class="top" style="font-size: x-large;">&#128285;Top of the Page&#128285;</button></a>
    </div><br>
    
    <footer>
        <p>Contact Us:</p>
        <a href="tel: +8768502495" style="color: #FF4500; text-decoration: none;">
            Contact Number: 1 (876) 850-2495
        </a><br>
        <a href="mailto:2303848@utech.edu.jm?subject=Comments/Queries" style="color: #FF4500; text-decoration: none;">
            Email: 2303848@utech.edu.jm
        </a>
        <br><br>
        
        <a href="https://www.instagram.com/peak_performance_gear/" target="_blank" style="text-decoration: none;">
            <button style="padding: 0; background: none;"><img height="30px" src="../Assets/Insta Icon.png" alt="Folow Us On Instagram" style="margin-top: 0px; margin-bottom: 0px; margin-right: 0px;;"></button>  
        </a>
        <br><br>

        <p>&copy; 2024 Walty's Gym Equipment. All Rights Reserved.</p>
    </footer>

    <script>
        //4.a. Show a summary of the shopping cart with the total cost.
        let subtotal = JSON.parse(localStorage.getItem('Subtotal'));
        let tax = JSON.parse(localStorage.getItem('Tax'));
        let discount = JSON.parse(localStorage.getItem('Discount'));
        let total = JSON.parse(localStorage.getItem('Total'));

        document.getElementById('subtotal').innerHTML = subtotal.toFixed(2);
        document.getElementById('tax').innerHTML = tax.toFixed(2);
        document.getElementById('discount').innerHTML = discount.toFixed(2);
        document.getElementById('total').innerHTML = total.toFixed(2);

        //4.c. When the user confirms the checkout, generate an invoice. 
        //4.d. Confirm button (confirms the checkout)
        function confirmCheckout(){
            const name = document.getElementById('name').value;
            const address = document.getElementById('address').value;
            const amountPaid = parseFloat(document.getElementById('amount-paid').value);

            if (!name || !address || isNaN(amountPaid)) {
                alert('Please fill in all fields!');
                return;
            }

            //Local Storage
            localStorage.setItem('name', JSON.stringify(name));
            localStorage.setItem('address', JSON.stringify(address));
            localStorage.setItem('amount-paid', amountPaid.toFixed(2));

            window.location.href = 'invoice.html';
        }

        //4.e.Cancel button (go back to the cart)
        function backToCart(){
            window.location.href = 'cart.html';
        }
    </script>

    <script src="../JS/script.js"></script>
    <script src="../JS/productsScript.js"></script>
    <script src="../JS/cartScript.js"></script>
    
</body>
</html>